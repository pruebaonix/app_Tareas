{"ast":null,"code":"import { Hub } from 'aws-amplify/utils';\nimport '@aws-amplify/core/internals/utils';\nimport '../../utils/setUserAgent/constants.mjs';\nimport { isFunction } from '../../utils/utils.mjs';\n\n/**\n * Handles Amplify JS Auth hub events, by forwarding hub events as appropriate\n * xstate events.\n */\nconst defaultAuthHubHandler = async ({\n  payload\n}, service, options) => {\n  const {\n    event\n  } = payload;\n  const {\n    send\n  } = service;\n  const {\n    onSignIn,\n    onSignOut\n  } = options ?? {};\n  switch (event) {\n    case 'signedIn':\n      {\n        if (isFunction(onSignIn)) {\n          onSignIn(payload);\n        }\n        break;\n      }\n    case 'signInWithRedirect':\n      {\n        send('SIGN_IN_WITH_REDIRECT');\n        break;\n      }\n    case 'signedOut':\n    case 'tokenRefresh_failure':\n      {\n        if (event === 'signedOut' && isFunction(onSignOut)) {\n          onSignOut();\n        }\n        send('SIGN_OUT');\n        break;\n      }\n  }\n};\nconst getHubEventHandler = (service, handler) => data => {\n  handler(data, service);\n};\n/**\n * Listens to external auth Hub events and sends corresponding event to\n * the `authService` of interest\n *\n * @param send - `send` function associated with the `authService` of interest\n *\n * @returns function that unsubscribes to the hub evenmt\n */\nconst listenToAuthHub = (service,\n// angular passes its own `handler` param\nhandler = defaultAuthHubHandler) => {\n  return Hub.listen('auth', getHubEventHandler(service, handler), 'authenticator-hub-handler');\n};\nexport { defaultAuthHubHandler, listenToAuthHub };","map":{"version":3,"names":["Hub","isFunction","defaultAuthHubHandler","payload","service","options","event","send","onSignIn","onSignOut","getHubEventHandler","handler","data","listenToAuthHub","listen"],"sources":["C:/Users/Daniel/app_onix_prb/node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/defaultAuthHubHandler.mjs"],"sourcesContent":["import { Hub } from 'aws-amplify/utils';\nimport '@aws-amplify/core/internals/utils';\nimport '../../utils/setUserAgent/constants.mjs';\nimport { isFunction } from '../../utils/utils.mjs';\n\n/**\n * Handles Amplify JS Auth hub events, by forwarding hub events as appropriate\n * xstate events.\n */\nconst defaultAuthHubHandler = async ({ payload }, service, options) => {\n    const { event } = payload;\n    const { send } = service;\n    const { onSignIn, onSignOut } = options ?? {};\n    switch (event) {\n        case 'signedIn': {\n            if (isFunction(onSignIn)) {\n                onSignIn(payload);\n            }\n            break;\n        }\n        case 'signInWithRedirect': {\n            send('SIGN_IN_WITH_REDIRECT');\n            break;\n        }\n        case 'signedOut':\n        case 'tokenRefresh_failure': {\n            if (event === 'signedOut' && isFunction(onSignOut)) {\n                onSignOut();\n            }\n            send('SIGN_OUT');\n            break;\n        }\n    }\n};\nconst getHubEventHandler = (service, handler) => (data) => {\n    handler(data, service);\n};\n/**\n * Listens to external auth Hub events and sends corresponding event to\n * the `authService` of interest\n *\n * @param send - `send` function associated with the `authService` of interest\n *\n * @returns function that unsubscribes to the hub evenmt\n */\nconst listenToAuthHub = (service, \n// angular passes its own `handler` param\nhandler = defaultAuthHubHandler) => {\n    return Hub.listen('auth', getHubEventHandler(service, handler), 'authenticator-hub-handler');\n};\n\nexport { defaultAuthHubHandler, listenToAuthHub };\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,mBAAmB;AACvC,OAAO,mCAAmC;AAC1C,OAAO,wCAAwC;AAC/C,SAASC,UAAU,QAAQ,uBAAuB;;AAElD;AACA;AACA;AACA;AACA,MAAMC,qBAAqB,GAAG,MAAAA,CAAO;EAAEC;AAAQ,CAAC,EAAEC,OAAO,EAAEC,OAAO,KAAK;EACnE,MAAM;IAAEC;EAAM,CAAC,GAAGH,OAAO;EACzB,MAAM;IAAEI;EAAK,CAAC,GAAGH,OAAO;EACxB,MAAM;IAAEI,QAAQ;IAAEC;EAAU,CAAC,GAAGJ,OAAO,IAAI,CAAC,CAAC;EAC7C,QAAQC,KAAK;IACT,KAAK,UAAU;MAAE;QACb,IAAIL,UAAU,CAACO,QAAQ,CAAC,EAAE;UACtBA,QAAQ,CAACL,OAAO,CAAC;QACrB;QACA;MACJ;IACA,KAAK,oBAAoB;MAAE;QACvBI,IAAI,CAAC,uBAAuB,CAAC;QAC7B;MACJ;IACA,KAAK,WAAW;IAChB,KAAK,sBAAsB;MAAE;QACzB,IAAID,KAAK,KAAK,WAAW,IAAIL,UAAU,CAACQ,SAAS,CAAC,EAAE;UAChDA,SAAS,CAAC,CAAC;QACf;QACAF,IAAI,CAAC,UAAU,CAAC;QAChB;MACJ;EACJ;AACJ,CAAC;AACD,MAAMG,kBAAkB,GAAGA,CAACN,OAAO,EAAEO,OAAO,KAAMC,IAAI,IAAK;EACvDD,OAAO,CAACC,IAAI,EAAER,OAAO,CAAC;AAC1B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMS,eAAe,GAAGA,CAACT,OAAO;AAChC;AACAO,OAAO,GAAGT,qBAAqB,KAAK;EAChC,OAAOF,GAAG,CAACc,MAAM,CAAC,MAAM,EAAEJ,kBAAkB,CAACN,OAAO,EAAEO,OAAO,CAAC,EAAE,2BAA2B,CAAC;AAChG,CAAC;AAED,SAAST,qBAAqB,EAAEW,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}